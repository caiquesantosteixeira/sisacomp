<!--
  Generated template for the PaisPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>pais/alunos</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <button ion-button full color="secondary" class="login-button" (click)="ionViewDidLoad()">Últimos 20 listados</button>
      <ion-item>
        <ion-label stacked>Nome</ion-label>
        <ion-input [(ngModel)]="NomePesquisa"
                    
                    type="text"
                    placeholder="Digite o nome a ser pesquisado"
                    maxlength="70"
                    clearInput clearOnEdit="false">
        </ion-input>
      </ion-item>
      <br>
      <button ion-button full color="secondary" class="login-button" (click)="Pesquisar()">Pesquisar por nome</button>
      <ion-item>
        <ion-label stacked>Nome</ion-label>
        <ion-input [(ngModel)]="CpfPesquisa"
                    type="text"
                    placeholder="Digite o cpf a ser pesquisado"
                    maxlength="70"
                    clearInput clearOnEdit="false"
                    [brmasker]="{mask:'000.000.000-00', len:14}">
        </ion-input>
      </ion-item>
      <br>
      <button ion-button full color="secondary" class="login-button" (click)="PesquisarPorCpf()">Pesquisar por CPF</button>

 

    <ion-item *ngFor="let item of pais">
        <ion-card padding>
          <h2>Responsável: {{item.nome}} </h2>
        
          <p> CPF: {{item.cpf}} </p>
          <p> Endereço: {{item.endereco}} </p>
          <p> Telefone: {{item.telefone}} </p>

          <ion-row>
            <button ion-button clear  (click)="goEditar(item)" color="secondary">Editar Responsável</button>
          </ion-row>
          <ion-row>
            <button ion-button clear  (click)="goAlunos(item)" color="secondary">Ver filhos</button>
          </ion-row>

          <ion-row>
            <button ion-button clear  (click)=" ativar(item)" color="secondary" *ngIf="item.ativo == 0" >Ativar</button>    

            <button ion-button clear  (click)=" ativar(item)" color="secondary" *ngIf="item.ativo == 1">Desativar</button>   
          </ion-row> 

         

        </ion-card>
      </ion-item>
   

  <ion-fab bottom right>
      
    <button ion-fab  color="secondary"  (click) = "goCadastro()"><ion-icon name="add"></ion-icon></button>
  
    </ion-fab>

</ion-content>
